# ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Port Forwarding ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Web App

## ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤

### 1. **‡∏´‡∏≤ IP Address ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì**

#### Windows:
```bash
ipconfig
```
‡∏´‡∏≤ IPv4 Address ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô "Wireless LAN adapter Wi-Fi" ‡∏´‡∏£‡∏∑‡∏≠ "Ethernet adapter"

#### macOS/Linux:
```bash
ifconfig
# ‡∏´‡∏£‡∏∑‡∏≠
ip addr
```

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
```
IPv4 Address. . . . . . . . . . . : 192.168.1.100
```

### 2. **‡∏´‡∏≤ Public IP Address**

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://whatismyipaddress.com/
- ‡∏´‡∏£‡∏∑‡∏≠ https://ipinfo.io/

#### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
```bash
# Windows
curl ifconfig.me

# macOS/Linux
curl ifconfig.me
# ‡∏´‡∏£‡∏∑‡∏≠
wget -qO- ifconfig.me
```

### 3. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Windows Firewall**

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:
1. ‡πÄ‡∏õ‡∏¥‡∏î **Windows Defender Firewall**
   - ‡∏Å‡∏î `Win + R` ‚Üí ‡∏û‡∏¥‡∏°‡∏û‡πå `wf.msc` ‚Üí Enter

2. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Allow an app or feature through Windows Defender Firewall"**

3. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Change settings"** (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå Admin)

4. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Allow another app"**

5. ‡∏Ñ‡∏•‡∏¥‡∏Å **"Browse"** ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ü‡∏•‡πå Node.js
   - ‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà: `C:\Program Files\nodejs\node.exe`

6. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á **Private** ‡πÅ‡∏•‡∏∞ **Public**

7. ‡∏Ñ‡∏•‡∏¥‡∏Å **"OK"**

#### ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á (‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô Administrator):
```cmd
netsh advfirewall firewall add rule name="Node.js Server" dir=in action=allow protocol=TCP localport=3001
```

### 4. **‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Router Port Forwarding**

#### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:

1. **‡∏´‡∏≤ Router IP Address:**
   ```bash
   ipconfig
   ```
   ‡∏î‡∏π‡∏ó‡∏µ‡πà "Default Gateway" (‡∏°‡∏±‡∏Å‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô 192.168.1.1)

2. **‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà Router Admin Panel:**
   - ‡πÄ‡∏õ‡∏¥‡∏î browser
   - ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://192.168.1.1` (‡∏´‡∏£‡∏∑‡∏≠ IP ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å Default Gateway)
   - Login ‡∏î‡πâ‡∏ß‡∏¢ username/password ‡∏Ç‡∏≠‡∏á router

3. **‡∏´‡∏≤ Port Forwarding:**
   - ‡∏≠‡∏≤‡∏à‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ß‡πà‡∏≤: "Port Forwarding", "Virtual Server", "NAT", "Port Mapping"
   - ‡∏°‡∏±‡∏Å‡∏à‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô Advanced Settings ‡∏´‡∏£‡∏∑‡∏≠ Security

4. **‡πÄ‡∏û‡∏¥‡πà‡∏° Port Forwarding Rule:**
   ```
   Service Name: maimai-webapp
   External Port: 3001
   Internal Port: 3001
   Internal IP: 192.168.1.100 (IP ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì)
   Protocol: TCP
   Status: Enabled
   ```

5. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤**

### 5. **‡∏£‡∏±‡∏ô Web App**

```bash
# ‡∏£‡∏±‡∏ô server
npm run server

# ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏±‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏° React app
npm run dev
```

### 6. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠**

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:
```bash
curl http://localhost:3001/api/session
```

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠‡∏Ç‡πà‡∏≤‡∏¢‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô:
```bash
curl http://192.168.1.100:3001/api/session
```

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï:
```bash
curl http://[PUBLIC-IP]:3001/api/session
```

## ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏±‡∏ç‡∏´‡∏≤

### 1. **‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏û‡∏ö‡∏ö‡πà‡∏≠‡∏¢**

#### ‚ùå **‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô**
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Firewall ‡∏´‡∏£‡∏∑‡∏≠ Port Forwarding ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Windows Firewall
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Router Port Forwarding
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ server ‡∏£‡∏±‡∏ô‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á

#### ‚ùå **CORS Error**
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** CORS ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡πâ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö IP ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç CORS ‡πÉ‡∏ô `server.js` (‡∏î‡∏π‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)

#### ‚ùå **Connection Timeout**
**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Port Forwarding ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ISP ‡∏ö‡∏•‡πá‡∏≠‡∏Å port

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Router settings
2. ‡∏•‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô port ‡πÄ‡∏õ‡πá‡∏ô 8080 ‡∏´‡∏£‡∏∑‡∏≠ 8000
3. ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠ ISP ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô

### 2. **‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç CORS ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö IP ‡∏ï‡πà‡∏≤‡∏á‡πÜ**

#### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô `server.js`:
```javascript
app.use(cors({
  origin: function (origin, callback) {
    if (!origin) return callback(null, true);
    
    // Allow all local network requests
    if (origin && origin.match(/^http:\/\/192\.168\.\d+\.\d+:\d+$/)) {
      return callback(null, true);
    }
    
    // Allow specific origins
    const allowedOrigins = [
      'http://localhost:3000',
      'http://192.168.1.100:3000', // IP ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
      'http://[PUBLIC-IP]:3000'    // Public IP
    ];
    
    if (allowedOrigins.indexOf(origin) !== -1) {
      callback(null, true);
    } else {
      console.log('CORS blocked origin:', origin);
      callback(new Error('Not allowed by CORS'));
    }
  },
  credentials: true,
  methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
  allowedHeaders: ['Content-Type', 'Authorization']
}));
```

### 3. **‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢**

#### ‡∏î‡∏π process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 3001:
```bash
# Windows
netstat -ano | findstr :3001

# macOS/Linux
lsof -i :3001
```

#### Kill process ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ port 3001:
```bash
# Windows
taskkill /PID [PID] /F

# macOS/Linux
kill -9 [PID]
```

#### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö port:
```bash
# Windows
telnet localhost 3001

# macOS/Linux
nc -zv localhost 3001
```

## ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### ‚ö†Ô∏è **‡∏Ñ‡∏≥‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô:**
1. **‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ** - ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
2. **‡πÑ‡∏°‡πà‡∏°‡∏µ HTTPS** - ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡∏î‡∏±‡∏Å‡∏à‡∏±‡∏ö‡πÑ‡∏î‡πâ
3. **‡πÑ‡∏°‡πà‡∏°‡∏µ Authentication** - ‡πÉ‡∏Ñ‡∏£‡∏Å‡πá‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ
4. **Router ‡∏≠‡∏≤‡∏à‡∏ñ‡∏π‡∏Å‡πÇ‡∏à‡∏°‡∏ï‡∏µ** - ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô password router

### üîí **‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢:**
1. ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö
2. ‡∏õ‡∏¥‡∏î port forwarding ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ
3. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô password router ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥
4. ‡πÉ‡∏ä‡πâ VPN ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô
5. ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö production ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ VPS ‡∏´‡∏£‡∏∑‡∏≠ Cloud hosting

## ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### 1. **‡πÅ‡∏ä‡∏£‡πå URL ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô:**
```
http://[PUBLIC-IP]:3001
```

### 2. **‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠:**
- ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ Wi-Fi ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
- ‡πÄ‡∏õ‡∏¥‡∏î browser
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://192.168.1.100:3001`

### 3. **‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏¥‡∏ô‡πÄ‡∏ó‡∏≠‡∏£‡πå‡πÄ‡∏ô‡πá‡∏ï:**
- ‡πÄ‡∏õ‡∏¥‡∏î browser
- ‡πÑ‡∏õ‡∏ó‡∏µ‡πà `http://[PUBLIC-IP]:3001`

## ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏

- **Public IP ‡∏≠‡∏≤‡∏à‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô** ‡πÄ‡∏°‡∏∑‡πà‡∏≠ router restart
- **Port Forwarding ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà** ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô router
- **ISP ‡∏ö‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏≠‡∏≤‡∏à‡∏ö‡∏•‡πá‡∏≠‡∏Å port** ‡∏ö‡∏≤‡∏á‡∏ï‡∏±‡∏ß
- **‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ Dynamic DNS** ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ URL ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£
